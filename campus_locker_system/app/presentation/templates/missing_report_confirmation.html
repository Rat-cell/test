{% extends "base.html" %}

{% block title %}Missing Parcel Report Submitted - Campus Locker System{% endblock %}

{% block header_title %}📋 Report Submitted{% endblock %}

{% block content %}
<div class="card">
    <div class="text-center mb-6">
        <div style="font-size: 60px; color: var(--warning-color); margin-bottom: 1rem;">📋</div>
        <h1 style="color: var(--error-color); margin-bottom: 0.5rem;">Missing Parcel Report Submitted</h1>
        <p>Your report has been submitted for investigation</p>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert--{{ category }} mb-4">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div class="alert alert--error mb-6">
        <h3>📋 Report Details</h3>
        <div style="margin-bottom: 0.75rem;">
            <strong>📦 Locker:</strong> #{{ parcel.locker_id }}
        </div>
        <div style="margin-bottom: 0.75rem;">
            <strong>📧 Recipient:</strong> {{ parcel.recipient_email }}
        </div>
        <div style="margin-bottom: 0.75rem;">
            <strong>📅 Report Date:</strong> {{ current_time }}
        </div>
        <div style="margin-bottom: 0;">
            <strong>🔍 Status:</strong> Under Investigation
        </div>
    </div>

    {% if reference_number %}
    <div style="background-color: var(--bg-tertiary); padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1.5rem; text-align: center;">
        <h3 style="margin-bottom: 0.5rem;">📋 Reference Number</h3>
        <div style="font-family: monospace; font-size: 1.25rem; font-weight: bold; color: var(--text-primary);">
            {{ reference_number }}
        </div>
        <p style="font-size: var(--font-size-sm); color: var(--text-secondary); margin: 0.5rem 0 0 0;">
            Save this number for future reference
        </p>
    </div>
    {% endif %}

    <div class="alert alert--info mb-6">
        <h3>📋 What happens next?</h3>
        <div style="margin: 1rem 0;">
            <div style="padding: 0.75rem 0; border-left: 3px solid var(--success-color); padding-left: 1rem; margin-bottom: 0.75rem; color: var(--text-primary);">
                ✅ <strong>Report Received</strong> - Your missing parcel report has been logged
            </div>
            <div style="padding: 0.75rem 0; border-left: 3px solid var(--warning-color); padding-left: 1rem; margin-bottom: 0.75rem; color: var(--text-secondary);">
                🔍 <strong>Investigation Started</strong> - Administrators are reviewing the case
            </div>
            <div style="padding: 0.75rem 0; border-left: 3px solid var(--gray-300); padding-left: 1rem; margin-bottom: 0.75rem; color: var(--text-tertiary);">
                📧 <strong>Follow-up Communication</strong> - You'll receive updates via email
            </div>
            <div style="padding: 0.75rem 0; border-left: 3px solid var(--gray-300); padding-left: 1rem; color: var(--text-tertiary);">
                ✅ <strong>Resolution</strong> - Case will be resolved based on investigation findings
            </div>
        </div>
    </div>

    <div class="alert alert--warning mb-6">
        <h3>⚠️ Important Information</h3>
        <ul style="margin: 0; padding-left: 1.5rem;">
            <li><strong>Investigation Time:</strong> Most cases are resolved within 24-48 hours</li>
            <li><strong>Email Updates:</strong> You'll receive notifications at {{ parcel.recipient_email }}</li>
            <li><strong>Contact Support:</strong> Use your reference number when contacting support</li>
            <li><strong>Security Review:</strong> The locker will be inspected and secured</li>
        </ul>
    </div>

    <div class="flex flex-col gap-4 mb-6">
        <a href="/deposit" class="btn btn--primary btn--large">
            📦 Deposit a Parcel
        </a>
        <a href="/" class="btn btn--secondary btn--large">
            🏠 Back to Home
        </a>
    </div>

    <div class="alert alert--info">
        <h3>📞 Need Immediate Assistance?</h3>
        <p style="margin: 0;">If this is an urgent matter or you need immediate assistance, please contact the Campus Locker System support team directly with your reference number.</p>
    </div>
</div>
{% endblock %} 